window.addEventListener('load', () => {

	document.addEventListener('shopify:section:load', function(event) {
		const section = event.target;

		if (typeof CartDrawer !== 'undefined') {
		  new CartDrawer();
		}
		if (typeof MobileMenu !== 'undefined') {
		  new MobileMenu();
		}
		if (typeof SlideShow !== 'undefined') {
			new SlideShow();
		}
		if (typeof CollectionTabs !== 'undefined') {
	    new CollectionTabs();
	  }
		if ( section.classList.contains('product-section')) {
			window.dispatchEvent( new Event('resize') );
		}
		if (typeof ProductGrid !== 'undefined') {
			let products = section.querySelectorAll('.product-card');
			products.forEach((product) => {
			  new ProductGrid(product);
			});
		}
		if (typeof QuantityInput !== 'undefined') {
			let quantities = section.querySelectorAll('.quantity:not(.buttons_added)');
			quantities.forEach((quantity) => {
			  new QuantityInput(quantity);
			});
		}
	});
});
